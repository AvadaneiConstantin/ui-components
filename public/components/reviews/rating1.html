<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Professional Review Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
    <style>
      .star-rating {
        display: inline-flex;
        flex-direction: row-reverse;
        gap: 4px;
      }

      .star-rating input {
        display: none;
      }

      .star-rating label {
        cursor: pointer;
        color: #e5e7eb;
        transition: all 0.2s ease;
        font-size: 2rem;
      }

      .star-rating label:hover,
      .star-rating label:hover ~ label {
        color: #fbbf24;
        transform: scale(1.1);
      }

      .star-rating input:checked ~ label {
        color: #f59e0b;
      }

      .dark .star-rating label {
        color: #6b7280;
      }

      .dark .star-rating label:hover,
      .dark .star-rating label:hover ~ label {
        color: #fbbf24;
      }

      .dark .star-rating input:checked ~ label {
        color: #f59e0b;
      }

      @keyframes success-bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-8px);
        }
        60% {
          transform: translateY(-4px);
        }
      }

      .success-animation {
        animation: success-bounce 0.6s;
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 min-h-screen flex items-center justify-center p-4 transition-colors duration-300"
  >
    <div class="max-w-md w-full mx-auto">
      <!-- Review Form Card -->
      <div
        class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-lg dark:shadow-xl dark:shadow-gray-900/30 p-6 transition-all duration-300"
      >
        <!-- Header -->
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white">
            Share Your Experience
          </h2>
          <p class="text-gray-600 dark:text-gray-300 mt-2">
            Your feedback helps others make better decisions
          </p>
        </div>

        <form id="reviewForm" class="space-y-6">
          <!-- Overall Rating -->
          <div class="text-center">
            <div
              class="star-rating mb-2"
              role="radiogroup"
              aria-label="Rate your experience from 1 to 5 stars"
            >
              <input type="radio" id="rating-5" name="rating" value="5" />
              <label for="rating-5" aria-label="5 stars - Excellent">â˜…</label>

              <input type="radio" id="rating-4" name="rating" value="4" />
              <label for="rating-4" aria-label="4 stars - Very Good">â˜…</label>

              <input type="radio" id="rating-3" name="rating" value="3" />
              <label for="rating-3" aria-label="3 stars - Good">â˜…</label>

              <input type="radio" id="rating-2" name="rating" value="2" />
              <label for="rating-2" aria-label="2 stars - Fair">â˜…</label>

              <input type="radio" id="rating-1" name="rating" value="1" />
              <label for="rating-1" aria-label="1 star - Poor">â˜…</label>
            </div>
            <div
              id="rating-description"
              class="text-sm text-gray-500 dark:text-gray-400 h-6 transition-all duration-200"
            >
              Click to rate
            </div>
          </div>

          <!-- Review Title -->
          <div>
            <label
              for="reviewTitle"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >
              Review Title *
            </label>
            <input
              type="text"
              id="reviewTitle"
              name="reviewTitle"
              required
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"
              placeholder="Summarize your experience"
            />
          </div>

          <!-- Detailed Review -->
          <div>
            <label
              for="reviewContent"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >
              Detailed Review *
            </label>
            <textarea
              id="reviewContent"
              name="reviewContent"
              rows="4"
              required
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200 resize-none"
              placeholder="Share specific details about your experience..."
            ></textarea>
            <div class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              <span id="char-count">0</span>/50 characters minimum
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            id="submit-btn"
            class="w-full bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Submit Review
          </button>
        </form>

        <!-- Success Message -->
        <div
          id="success-message"
          class="hidden mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-center"
        >
          <div class="success-animation">
            <svg
              class="w-12 h-12 text-green-500 dark:text-green-400 mx-auto mb-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <h3
              class="text-lg font-semibold text-green-800 dark:text-green-300 mb-1"
            >
              Thank You!
            </h3>
            <p class="text-green-700 dark:text-green-400 text-sm">
              Your review has been submitted successfully.
            </p>
          </div>
        </div>
      </div>

      <!-- Trust Indicators -->
      <div class="text-center mt-6 text-sm text-gray-600 dark:text-gray-400">
        <p>ðŸ”’ Your review is anonymous and secure</p>
      </div>
    </div>

    <script>
      class ReviewForm {
        constructor() {
          this.form = document.getElementById("reviewForm");
          this.successMessage = document.getElementById("success-message");
          this.submitBtn = document.getElementById("submit-btn");
          this.ratingDescription =
            document.getElementById("rating-description");
          this.charCount = document.getElementById("char-count");
          this.reviewContent = document.getElementById("reviewContent");

          this.ratingDescriptions = {
            1: "Poor - Very disappointed",
            2: "Fair - Some issues",
            3: "Good - Met expectations",
            4: "Very Good - Exceeded expectations",
            5: "Excellent - Absolutely outstanding",
          };

          this.init();
        }

        init() {
          this.setupRating();
          this.setupCharacterCount();
          this.setupFormSubmission();
        }

        setupRating() {
          document.querySelectorAll('input[name="rating"]').forEach((input) => {
            input.addEventListener("change", (e) => {
              const rating = e.target.value;
              this.updateRatingDescription(rating);
            });
          });
        }

        setupCharacterCount() {
          this.reviewContent.addEventListener("input", (e) => {
            const count = e.target.value.length;
            this.updateCharacterCount(count);
          });
        }

        setupFormSubmission() {
          this.form.addEventListener("submit", (e) => this.handleSubmit(e));
        }

        updateRatingDescription(rating) {
          this.ratingDescription.textContent = this.ratingDescriptions[rating];
          this.ratingDescription.className =
            "text-sm font-medium text-amber-600 dark:text-amber-400 h-6 transition-all duration-200";
        }

        updateCharacterCount(count) {
          this.charCount.textContent = count;
          this.charCount.className =
            count < 50
              ? "text-sm text-red-500 dark:text-red-400"
              : "text-sm text-green-500 dark:text-green-400";
        }

        async handleSubmit(e) {
          e.preventDefault();

          if (!this.validateForm()) return;

          this.setLoadingState(true);

          try {
            await this.submitForm();
            this.showSuccess();
            this.resetForm();
          } catch (error) {
            this.showError("Failed to submit review. Please try again.");
          } finally {
            this.setLoadingState(false);
          }
        }

        validateForm() {
          const rating = this.form.rating.value;
          const content = this.form.reviewContent.value.trim();

          if (!rating) {
            this.showError("Please select a rating");
            return false;
          }

          if (content.length < 50) {
            this.showError(
              "Please provide a more detailed review (minimum 50 characters)"
            );
            return false;
          }

          return true;
        }

        async submitForm() {
          // Simulate API call
          return new Promise((resolve) => setTimeout(resolve, 1000));
        }

        setLoadingState(loading) {
          this.submitBtn.disabled = loading;
          this.submitBtn.textContent = loading
            ? "Submitting..."
            : "Submit Review";
        }

        showSuccess() {
          this.form.classList.add("hidden");
          this.successMessage.classList.remove("hidden");
        }

        hideSuccess() {
          this.form.classList.remove("hidden");
          this.successMessage.classList.add("hidden");
        }

        resetForm() {
          setTimeout(() => {
            this.form.reset();
            this.hideSuccess();
            this.ratingDescription.textContent = "Click to rate";
            this.ratingDescription.className =
              "text-sm text-gray-500 dark:text-gray-400 h-6 transition-all duration-200";
            this.charCount.textContent = "0";
            this.charCount.className =
              "text-sm text-gray-500 dark:text-gray-400";
          }, 3000);
        }

        showError(message) {
          let errorDiv = document.getElementById("form-error");
          if (!errorDiv) {
            errorDiv = document.createElement("div");
            errorDiv.id = "form-error";
            errorDiv.className =
              "p-3 mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-center text-sm";
            this.form.prepend(errorDiv);
          }

          errorDiv.textContent = message;
          setTimeout(() => errorDiv.remove(), 4000);
        }
      }

      // Initialize the form when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        new ReviewForm();
      });
    </script>
  </body>
</html>
