<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Headquarters - Send Message</title>
    <meta
      name="description"
      content="Visit our headquarters or send a direct message through our optimized contact form."
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: {
                300: "#fca5a5",
                400: "#f87171",
                600: "#dc2626",
                700: "#b91c1c",
              },
            },
            fontFamily: {
              sans: [
                "system-ui",
                "-apple-system",
                "Segoe UI",
                "Roboto",
                "sans-serif",
              ],
            },
          },
        },
      };
    </script>
    <style>
      .modal {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease;
      }
      .modal.active {
        opacity: 1;
        visibility: visible;
      }
      .input-error {
        border-color: #dc2626 !important;
        box-shadow: 0 0 0 1px #dc2626;
      }
    </style>
  </head>
  <body
    class="bg-gray-50 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-200"
  >
    <main class="container mx-auto px-4 py-12 max-w-6xl">
      <h1
        class="text-4xl md:text-5xl font-bold text-center text-gray-900 dark:text-white mb-12"
      >
        Reach Our
        <span class="text-primary-600 dark:text-primary-400">Team</span>
      </h1>

      <div class="grid lg:grid-cols-5 gap-8">
        <!-- Image Section -->
        <div class="lg:col-span-2">
          <div
            class="h-96 rounded-xl bg-gradient-to-br from-primary-600/20 to-gray-800/20 shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"
          >
            <div
              class="lg:col-span-2 h-96 rounded-xl overflow-hidden shadow-2xl border-4 border-white/5 dark:border-gray-900/10 bg-cover bg-center bg-no-repeat bg-full"
              style="background-image: url('/img/building.jpg')"
              aria-label="Office building image"
            ></div>
          </div>
        </div>

        <!-- Form Section -->
        <div
          class="lg:col-span-3 bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-100 dark:border-gray-700"
        >
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
            Send Us a Direct Message ðŸ“©
          </h2>

          <form id="contactForm" class="space-y-6" novalidate>
            <div class="grid sm:grid-cols-2 gap-5">
              <div>
                <input
                  id="name"
                  type="text"
                  placeholder="Your Name"
                  required
                  autocomplete="name"
                  class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border-b-2 border-primary-300 focus:border-primary-600 rounded-t-lg outline-none transition-colors dark:text-white"
                />
                <div
                  id="nameError"
                  class="text-sm text-primary-600 dark:text-primary-400 mt-1 hidden"
                  role="alert"
                ></div>
              </div>

              <div>
                <input
                  id="email"
                  type="email"
                  placeholder="Your Email"
                  required
                  autocomplete="email"
                  class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border-b-2 border-primary-300 focus:border-primary-600 rounded-t-lg outline-none transition-colors dark:text-white"
                />
                <div
                  id="emailError"
                  class="text-sm text-primary-600 dark:text-primary-400 mt-1 hidden"
                  role="alert"
                ></div>
              </div>
            </div>

            <div>
              <input
                id="subject"
                type="text"
                placeholder="Subject of Inquiry"
                required
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border-b-2 border-primary-300 focus:border-primary-600 rounded-t-lg outline-none transition-colors dark:text-white"
              />
              <div
                id="subjectError"
                class="text-sm text-primary-600 dark:text-primary-400 mt-1 hidden"
                role="alert"
              ></div>
            </div>

            <div>
              <textarea
                id="message"
                rows="4"
                placeholder="Tell us about your project or inquiry..."
                required
                class="w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border-b-2 border-primary-300 focus:border-primary-600 rounded-t-lg outline-none resize-none transition-colors dark:text-white"
              ></textarea>
              <div
                id="messageError"
                class="text-sm text-primary-600 dark:text-primary-400 mt-1 hidden"
                role="alert"
              ></div>
            </div>

            <button
              type="submit"
              class="px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-colors duration-200 shadow-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"
            >
              Submit Form â†’
            </button>
          </form>
        </div>
      </div>
    </main>

    <!-- Success Modal -->
    <div
      id="successModal"
      class="modal fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50"
      role="dialog"
      aria-hidden="true"
    >
      <div
        class="bg-white dark:bg-gray-800 rounded-xl p-8 max-w-sm w-full shadow-2xl text-center"
      >
        <div class="text-green-500 dark:text-green-400 mb-4">
          <svg
            class="w-12 h-12 mx-auto"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">
          Message Sent!
        </h3>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
          Thank you for your message. We'll be in touch shortly.
        </p>
        <button
          id="closeModal"
          class="px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-colors shadow-md"
        >
          Close
        </button>
      </div>
    </div>

    <script>
      class ContactForm {
        constructor() {
          this.form = document.getElementById("contactForm");
          this.modal = document.getElementById("successModal");
          this.closeModalBtn = document.getElementById("closeModal");

          this.fields = {
            name: {
              el: document.getElementById("name"),
              error: document.getElementById("nameError"),
              message: "Please enter your name",
            },
            email: {
              el: document.getElementById("email"),
              error: document.getElementById("emailError"),
              message: "Please enter a valid email",
            },
            subject: {
              el: document.getElementById("subject"),
              error: document.getElementById("subjectError"),
              message: "Please specify a subject",
            },
            message: {
              el: document.getElementById("message"),
              error: document.getElementById("messageError"),
              message: "Message cannot be empty",
            },
          };

          this.emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

          this.init();
        }

        init() {
          // Setup blur validation
          Object.values(this.fields).forEach((field) => {
            field.el.addEventListener("blur", () => this.validateField(field));
          });

          // Form submission
          this.form.addEventListener("submit", (e) => this.handleSubmit(e));

          // Modal controls
          this.closeModalBtn.addEventListener("click", () => this.hideModal());
          this.modal.addEventListener("click", (e) => {
            if (e.target === this.modal) this.hideModal();
          });
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && this.modal.classList.contains("active")) {
              this.hideModal();
            }
          });
        }

        validateField(field) {
          let isValid = false;

          if (field.el.id === "email") {
            isValid = this.emailRegex.test(field.el.value.trim());
          } else {
            isValid = field.el.value.trim().length > 0;
          }

          this.updateFieldState(field, isValid);
          return isValid;
        }

        updateFieldState(field, isValid) {
          field.error.classList.toggle("hidden", isValid);
          field.el.classList.toggle("input-error", !isValid);
          field.el.setAttribute("aria-invalid", !isValid);

          if (!isValid) {
            field.error.textContent = field.message;
          }
        }

        validateAll() {
          let allValid = true;

          Object.values(this.fields).forEach((field) => {
            const isValid = this.validateField(field);
            if (!isValid) allValid = false;
          });

          return allValid;
        }

        handleSubmit(e) {
          e.preventDefault();

          if (this.validateAll()) {
            // Simulate form submission
            console.log("Form submitted:", {
              name: this.fields.name.el.value,
              email: this.fields.email.el.value,
              subject: this.fields.subject.el.value,
              message: this.fields.message.el.value,
            });

            this.form.reset();
            this.hideAllErrors();
            this.showModal();
          } else {
            this.focusFirstInvalid();
          }
        }

        hideAllErrors() {
          Object.values(this.fields).forEach((field) => {
            field.error.classList.add("hidden");
            field.el.classList.remove("input-error");
            field.el.removeAttribute("aria-invalid");
          });
        }

        focusFirstInvalid() {
          const firstInvalid = Object.values(this.fields).find((field) =>
            field.el.classList.contains("input-error")
          );
          if (firstInvalid) firstInvalid.el.focus();
        }

        showModal() {
          this.modal.classList.add("active");
          document.body.style.overflow = "hidden";
          this.closeModalBtn.focus();
        }

        hideModal() {
          this.modal.classList.remove("active");
          document.body.style.overflow = "";
          this.form.querySelector('button[type="submit"]').focus();
        }
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        new ContactForm();
      });
    </script>
  </body>
</html>
